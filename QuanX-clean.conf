# åŸºäº Quantumult X å®˜æ–¹æ ‡å‡†
#
# ä»¥ ';' æˆ– '#' æˆ– '//' å¼€å¤´çš„é…ç½®æ–‡ä»¶è¡Œä¸ºæ³¨é‡Šè¡Œ
#
# å› ä¸ºè€ƒè™‘çš„æœ‰çš„ç©å®¶æœºåœºä¼—å¤šï¼ŒèŠ‚ç‚¹æ‚ä¹±ä¸ä¸€ï¼Œæ ¹æ®åœ°åŒºåˆ’åˆ†ç­–ç•¥æ— æ³•æ»¡è¶³ä¸ªæ€§åŒ–éœ€æ±‚ï¼Œ
# å¹¶ä¸”ä¿®æ”¹ç€æ•ˆç‡æä½ï¼Œå› æ­¤æ­¤è§„åˆ™åˆ é™¤äº†å¯¹åœ°åŒºçš„åˆ’åˆ†ç­–ç•¥ï¼Œç©å®¶å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚ä¸ªæ€§åŒ–å®šåˆ¶åœ°åŒºç­–ç•¥ã€‚
#
# æœ€åæ›´æ–°æ—¶é—´ 2023-01-20 19:03
# 
# ================

# åŸºç¡€éƒ¨åˆ†
[general]
// > é…ç½®æ–‡ä»¶å›¾æ ‡
profile_img_url = https://img.sveir.xyz/static/favicon%40trs.png
// > ç½‘ç»œæµ‹è¯•é“¾æ¥
network_check_url = http://www.bing.com
// > æœåŠ¡å™¨æµ‹è¯•é“¾æ¥
server_check_url = http://www.gstatic.com/generate_204
// > æœåŠ¡å™¨æµ‹è¯•è¶…æ—¶æ—¶é—´ (æ¯«ç§’)
server_check_timeout = 3000
// > èŠ‚ç‚¹ GEO ä½ç½®ä¿¡æ¯æ£€æµ‹
// å¦‚æœä¸éœ€è¯†åˆ«èŠ‚ç‚¹åœ°åŒºä¸ºä¸­æ–‡å’Œæ˜¾ç¤ºå›½æ——ï¼Œè¯·å°†ä¸‹é¢è¡Œ geo_location_checker è¿›è¡Œæ³¨é‡ŠÃŸ
geo_location_checker = http://ip-api.com/json/?lang=zh-CN,https://cdn.jsdelivr.net/gh/KOP-XIAO/QuantumultX@master/Scripts/IP_API.js
// > æŒ‡å®š WiFi SSID ä¸‹çš„è¿è¡Œæ¨¡å¼
// å¦‚æœéœ€è¦æŒ‡å®š å¯¹åº” SSID çš„è¿è¡Œæ¨¡å¼,è¯·å–æ¶ˆä¸‹åˆ—æ³¨é‡Šå¹¶è‡ªå®šé…ç½®
;running_mode_trigger = filter, filter, asus-5g:all_direct, asus:all_proxy
// > èµ„æºè§£æå™¨
resource_parser_url = https://cdn.jsdelivr.net/gh/KOP-XIAO/QuantumultX@master/Scripts/resource-parser.js
// > DNS æ’é™¤åˆ—è¡¨
// ä¸ä½¿ç”¨ fakeip æ˜ å°„ï¼Œå¯ä¸€å®šç¨‹åº¦é˜²æ­¢æ£€æµ‹åˆ°ä½¿ç”¨ä»£ç†
dns_exclusion_list = *.lan, cable.auth.com, *.msftconnecttest.com, *.msftncsi.com, network-test.debian.org, detectportal.firefox.com, resolver1.opendns.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, stun.*, *.qq.com, localhost.*.qq.com, *.logon.battlenet.com.cn, *.logon.battle.net, *.blzstatic.cn, *.cmpassport.com, id6.me, open.e.189.cn, mdn.open.wo.cn, auth.wosms.cn, *.jegotrip.com.cn, *.icitymobile.mobi, *.pingan.com.cn, *.cmbchina.com, *?miwifi.com, pool.ntp.org, *.pool.ntp.org, ntp.*.com, time.*.com, ntp?.*.com, time?.*.com, time.*.gov, time.*.edu.cn, *.ntp.org.cn, time.*.apple.com, PDC._msDCS.*.*, DC._msDCS.*.*, GC._msDCS.*.*
// > æ’é™¤è·¯ç”±
// ä»¥ä¸‹ ip-cidr ä¸­çš„è·¯ç”±å°†ä¸ç»ç”± QuantumultX è¿›è¡Œå¤„ç†
excluded_routes = 192.168.0.0/16, 172.16.0.0/12, 100.64.0.0/10, 10.0.0.0/8, 239.255.255.250/32

# åŸŸåè§£æéƒ¨åˆ†
[dns]
// å¦‚æœæ‚¨éœ€è¦ç¦ç”¨ç³»ç»Ÿ DNSï¼ˆno-system), è¯·å–æ¶ˆä¸‹è¡Œæ³¨é‡Š
;no-system
// å¦‚æœæ‚¨éœ€è¦ç¦ç”¨ IPv6, è¯·å–æ¶ˆä¸‹è¡Œæ³¨é‡Š
;no-ipv6
// å¦‚éœ€ä½¿ç”¨ DNS over HTTP/3ï¼Œè¯·å–æ¶ˆä¸‹è¡Œæ³¨é‡Š
;prefer-doh3

// æŒ‡å®š DNS æœåŠ¡å™¨ï¼Œå¹¶å‘å“åº”é€‰å–æœ€ä¼˜ç»“æœ
server = 119.29.29.29
server = 182.254.116.116
server = 223.5.5.5
server = 223.6.6.6
server = 119.28.28.28

# âš ï¸ æ³¨æ„ ä¸å»ºè®®åœ¨æ­¤å¯¹ å¾®ä¿¡ä»¥åŠQQç­‰å³æ—¶é€šè®¯å·¥å…·è¿›è¡Œ æŒ‡å®šåŸŸååˆ†é…DNS
# æ­¤æ“ä½œå°†å¯èƒ½å¯¼è‡´å¾®ä¿¡æ¶ˆæ¯å»¶è¿Ÿæ¨é€

// å¦‚æœéœ€è¦æŒ‡å®š DNS over HTTP æœåŠ¡ï¼Œåˆ™ä¸Šåˆ—æŒ‡å®šçš„ DNS æœåŠ¡å™¨ *å‡å°†å¤±æ•ˆ* ï¼Œåœ¨ç‰¹å®šç½‘ç»œä¸‹ç¦ç”¨è¯¥ doh
;doh-server = https://doh.pub/dns-query, https://223.5.5.5/dns-query, https://223.6.6.6/dns-query

# æœ¬åˆ†æµç­–ç•¥ç»„é€‚åˆæœºåœºä¼—å¤šçš„ç©å®¶ï¼Œéœ€è¦æ ¹æ®èŠ‚ç‚¹ä¸ªæ€§åŒ–å®šåˆ¶åœ°åŒºåˆ†æµ
[policy]
# ä¸‡èƒ½æ­£åˆ™
# regexï¼š(?=.*(A|B)) åŒ…å«Aæˆ–B
# regexï¼š(?=.*(A))^(?!.*(B)) åŒ…å«Aä¸”ä¸åŒ…å«B
# regexï¼š(?=.*(A|C))^(?!.*(B|D)) åŒ…å«Aæˆ–Cä¸”ä¸åŒ…å«Bæˆ–D
static = ğŸŒOutSide, ğŸš€Proxy, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Airport.png
static = Final, ğŸŒOutSide, ğŸŸ¢Direct, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Final.png
// åˆ†æµ
static = YouTube, ğŸŒOutSide, img-url= https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/YouTube.png
static = Spotify, ğŸŸ¢Direct, ğŸŒOutSide, img-url= https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Spotify.png
static = TikTok, ğŸŒOutSide, img-url= https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/TikTok.png
# static = Apple, ğŸŸ¢Direct, ğŸŒOutSide, img-url= https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Apple.png
# static = Google, ğŸŒOutSide, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Google.png
static = Microsoft, ğŸŸ¢Direct, ğŸŒOutSide, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Microsoft.png
static = ğŸŸ¢Direct, direct, img-url= https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Direct.png
static = ğŸš€Proxy, proxy, img-url= https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Proxy.png

[server_local]

[server_remote]


[filter_local]
#æœ¬åœ°åˆ†æµè§„åˆ™(å¯¹äºå®Œå…¨ç›¸åŒçš„æŸæ¡è§„åˆ™ï¼Œæœ¬åœ°çš„å°†ä¼˜å…ˆç”Ÿæ•ˆ)
ip-cidr, 10.0.0.0/8, direct
ip-cidr, 127.0.0.0/8, direct
ip-cidr, 172.16.0.0/12, direct
ip-cidr, 192.168.0.0/16, direct
ip-cidr, 224.0.0.0/24, direct
geoip, cn, direct
final, Final

[filter_remote]
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/Direct/Direct.list, tag=Direct, force-policy=direct, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/Advertising/Advertising.list, tag=Advertising, force-policy=reject, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/YouTube/YouTube.list, tag=YouTube, force-policy=YouTube, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/YouTubeMusic/YouTubeMusic.list, tag=YouTubeMusic, force-policy=YouTube, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/Spotify/Spotify.list, tag=Spotify, force-policy=Spotify, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/TikTok/TikTok.list, tag=TikTok, force-policy=TikTok, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/Google/Google.list, tag=Google,force-policy=ğŸŒOutSide, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/Microsoft/Microsoft.list, tag=Microsoft, force-policy=Microsoft, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/ChinaMedia/ChinaMedia.list, tag=ChinaMedia, force-policy=direct, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/GlobalMedia/GlobalMedia.list, tag=GlobalMedia, force-policy=ğŸŒOutSide, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/Global/Global.list, tag=Global, force-policy=ğŸŒOutSide, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/Apple/Apple.list, tag=Apple, force-policy=direct, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/China/China.list, tag=China, force-policy=direct, enabled=true

[rewrite_local]

[rewrite_remote]
# Advertisingå»å¹¿å‘Š
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rewrite/QuantumultX/Advertising/Advertising.conf, tag=Advertisingå»å¹¿å‘Š

# TikTokè§£é”ï¼Œé»˜è®¤å…³é—­
https://raw.githubusercontent.com/Semporia/TikTok-Unlock/master/Quantumult-X/TikTok-US.conf, tag=TikTok, update-interval=86400, opt-parser=false, enabled=false

[task_local]
# æµåª’ä½“æŸ¥è¯¢è„šæœ¬
event-interaction https://cdn.jsdelivr.net/gh/KOP-XIAO/QuantumultX@master/Scripts/streaming-ui-check.js, tag=æµåª’ä½“ - è§£é”æŸ¥è¯¢ï¼Œimg-url=checkmark.seal.system, enabled=true

[http_backend]

[mitm]
