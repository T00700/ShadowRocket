# åŸºäº Quantumult X å®˜æ–¹æ ‡å‡†
#
# ä»¥ ';' æˆ– '#' æˆ– '//' å¼€å¤´çš„é…ç½®æ–‡ä»¶è¡Œä¸ºæ³¨é‡Šè¡Œ
#
# æœ€åæ›´æ–°æ—¶é—´ 2023-01-16 09:39
#
# ================

# åŸºç¡€éƒ¨åˆ†
[general]
// > é…ç½®æ–‡ä»¶å›¾æ ‡
profile_img_url = https://img.sveir.xyz/static/favicon%40trs.png
// > ç½‘ç»œæµ‹è¯•é“¾æ¥
network_check_url = http://www.bing.com
// > æœåŠ¡å™¨æµ‹è¯•é“¾æ¥
server_check_url = http://www.gstatic.com/generate_204
// > æœåŠ¡å™¨æµ‹è¯•è¶…æ—¶æ—¶é—´ (æ¯«ç§’)
server_check_timeout = 3000
// > èŠ‚ç‚¹ GEO ä½ç½®ä¿¡æ¯æ£€æµ‹
// å¦‚æœä¸éœ€è¯†åˆ«èŠ‚ç‚¹åœ°åŒºä¸ºä¸­æ–‡å’Œæ˜¾ç¤ºå›½æ——ï¼Œè¯·å°†ä¸‹é¢è¡Œ geo_location_checker è¿›è¡Œæ³¨é‡ŠÃŸ
geo_location_checker = http://ip-api.com/json/?lang=zh-CN,https://cdn.jsdelivr.net/gh/KOP-XIAO/QuantumultX@master/Scripts/IP_API.js
// > æŒ‡å®š WiFi SSID ä¸‹çš„è¿è¡Œæ¨¡å¼
// å¦‚æœéœ€è¦æŒ‡å®š å¯¹åº” SSID çš„è¿è¡Œæ¨¡å¼,è¯·å–æ¶ˆä¸‹åˆ—æ³¨é‡Šå¹¶è‡ªå®šé…ç½®
;running_mode_trigger = filter, filter, asus-5g:all_direct, asus:all_proxy
// > èµ„æºè§£æå™¨
resource_parser_url = https://cdn.jsdelivr.net/gh/KOP-XIAO/QuantumultX@master/Scripts/resource-parser.js
// > DNS æ’é™¤åˆ—è¡¨
// ä¸ä½¿ç”¨ fakeip æ˜ å°„ï¼Œå¯ä¸€å®šç¨‹åº¦é˜²æ­¢æ£€æµ‹åˆ°ä½¿ç”¨ä»£ç†
dns_exclusion_list = *.lan, cable.auth.com, *.msftconnecttest.com, *.msftncsi.com, network-test.debian.org, detectportal.firefox.com, resolver1.opendns.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, stun.*, *.qq.com, localhost.*.qq.com, *.logon.battlenet.com.cn, *.logon.battle.net, *.blzstatic.cn, *.cmpassport.com, id6.me, open.e.189.cn, mdn.open.wo.cn, auth.wosms.cn, *.jegotrip.com.cn, *.icitymobile.mobi, *.pingan.com.cn, *.cmbchina.com, *?miwifi.com, pool.ntp.org, *.pool.ntp.org, ntp.*.com, time.*.com, ntp?.*.com, time?.*.com, time.*.gov, time.*.edu.cn, *.ntp.org.cn, time.*.apple.com, PDC._msDCS.*.*, DC._msDCS.*.*, GC._msDCS.*.*
// > æ’é™¤è·¯ç”±
// ä»¥ä¸‹ ip-cidr ä¸­çš„è·¯ç”±å°†ä¸ç»ç”± QuantumultX è¿›è¡Œå¤„ç†
excluded_routes = 192.168.0.0/16, 172.16.0.0/12, 100.64.0.0/10, 10.0.0.0/8, 239.255.255.250/32

# åŸŸåè§£æéƒ¨åˆ†
[dns]
// å¦‚æœæ‚¨éœ€è¦ç¦ç”¨ç³»ç»Ÿ DNSï¼ˆno-system), è¯·å–æ¶ˆä¸‹è¡Œæ³¨é‡Š
;no-system
// å¦‚æœæ‚¨éœ€è¦ç¦ç”¨ IPv6, è¯·å–æ¶ˆä¸‹è¡Œæ³¨é‡Š
;no-ipv6
// å¦‚éœ€ä½¿ç”¨ DNS over HTTP/3ï¼Œè¯·å–æ¶ˆä¸‹è¡Œæ³¨é‡Š
;prefer-doh3

// æŒ‡å®š DNS æœåŠ¡å™¨ï¼Œå¹¶å‘å“åº”é€‰å–æœ€ä¼˜ç»“æœ
server = 119.29.29.29
server = 182.254.116.116
server = 223.5.5.5
server = 223.6.6.6
server = 119.28.28.28

# âš ï¸ æ³¨æ„ ä¸å»ºè®®åœ¨æ­¤å¯¹ å¾®ä¿¡ä»¥åŠQQç­‰å³æ—¶é€šè®¯å·¥å…·è¿›è¡Œ æŒ‡å®šåŸŸååˆ†é…DNS
# æ­¤æ“ä½œå°†å¯èƒ½å¯¼è‡´å¾®ä¿¡æ¶ˆæ¯å»¶è¿Ÿæ¨é€

// å¦‚æœéœ€è¦æŒ‡å®š DNS over HTTP æœåŠ¡ï¼Œåˆ™ä¸Šåˆ—æŒ‡å®šçš„ DNS æœåŠ¡å™¨ *å‡å°†å¤±æ•ˆ* ï¼Œåœ¨ç‰¹å®šç½‘ç»œä¸‹ç¦ç”¨è¯¥ doh
;doh-server = https://doh.pub/dns-query, https://223.5.5.5/dns-query, https://223.6.6.6/dns-query

# åˆ†æµç­–ç•¥ç»„
[policy]
static = OutSide, SG, HK, JP, TW, US, TR, PH, KR, IN, Other, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Airport.png
static = Final, OutSide, direct, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Final.png
// åˆ†æµ
static = YouTube, SG, HK, img-url= https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/YouTube.png
static = Spotify, direct, SG, HK, JP, img-url= https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Spotify.png
static = TikTok, SG, JP, TW, US, KR, img-url= https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/TikTok.png
# static = DomesticMedia, direct, OutSide, img-url= https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Domestic.png
# static = Domestic, direct, OutSide, img-url= https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Back.png
# static = Apple, direct, OutSide, img-url= https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Apple.png
# static = Apple Domestic, direct, OutSide, img-url= https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Apple_Update.png
static = Google, OutSide, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Google.png
static = Google Domestic, direct, OutSide, img-url= https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Google_Search.png
static=Microsoft, direct, OutSide, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Microsoft.png
static = Hijacking, reject, direct, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Hijacking.png
static = Advertising, reject, img-url= https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Advertising.png
# static = Unbreak, direct, OutSide, img-url= https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Auto.png
// æŒ‰åœ°åŒºåˆ†ç±»
url-latency-benchmark = SG, check-interval=3600, tolerance=100, server-tag-regex=æ–°åŠ å¡|Singapore|SG|sg, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Singapore.png
url-latency-benchmark = HK, check-interval=3600, tolerance=100, server-tag-regex=é¦™æ¸¯|Hong Kong|HK|hk, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Hong_Kong.png
url-latency-benchmark = JP, check-interval=3600, tolerance=100, server-tag-regex=æ—¥æœ¬|Japan|JP|jp, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Japan.png
url-latency-benchmark = TW, check-interval=3600, tolerance=100, server-tag-regex=å°æ¹¾|Taiwan|TW|tw|å°åŒ—, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Taiwan.png
url-latency-benchmark = US, check-interval=3600, tolerance=100, server-tag-regex=ç¾å›½|United States|US|us, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/United_States.png
url-latency-benchmark = TR, check-interval=3600, tolerance=100, server-tag-regex=åœŸè€³å…¶|Turkey|TR|TR, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Turkey.png
url-latency-benchmark = PH, check-interval=3600, tolerance=100, server-tag-regex=è²å¾‹å®¾|Philippines|PH|ph, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Philippines.png
url-latency-benchmark = KR, check-interval=3600, tolerance=100, server-tag-regex=éŸ©å›½|Korea|KR|kr, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Korea.png
url-latency-benchmark = IN, check-interval=3600, tolerance=100, server-tag-regex=å°åº¦|India|IN|in, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/India.png
static = Other, server-tag-regex=^((?!é¦™æ¸¯|å°æ¹¾|å°åŒ—|æ—¥æœ¬|ç¾å›½|æ–°åŠ å¡|è²å¾‹å®¾|åœŸè€³å…¶|å°åº¦|éŸ©å›½).)*$, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/AIA.png


[server_local]

[server_remote]
https://example.com/subscribe.snippet,tag=ğŸ§ æˆ‘çš„è®¢é˜…,enabled=true, img-url= https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Heart.png


[filter_local]
#æœ¬åœ°åˆ†æµè§„åˆ™(å¯¹äºå®Œå…¨ç›¸åŒçš„æŸæ¡è§„åˆ™ï¼Œæœ¬åœ°çš„å°†ä¼˜å…ˆç”Ÿæ•ˆ)
ip-cidr, 10.0.0.0/8, direct
ip-cidr, 127.0.0.0/8, direct
ip-cidr, 172.16.0.0/12, direct
ip-cidr, 192.168.0.0/16, direct
ip-cidr, 224.0.0.0/24, direct
# å·²é‡‡ç”¨ ip æ± æ•°æ®ï¼Œå› æ­¤æ³¨é‡Šæ‰ geoip cn
;geoip, cn, direct
final, Final

[filter_remote]
# å¦‚æœæ— éœ€å¯¹æµåª’ä½“å•ç‹¬è¿›è¡Œåˆ†æµï¼Œåˆ™æ— éœ€åŠ å…¥å¦‚[YouTube.list]ç­‰é…ç½®ã€‚
# å¦‚éœ€å•ç‹¬åˆ†æµï¼Œåˆ™éœ€è¦åŠ åœ¨[ForeignMedia.list]ä¹‹å‰ã€‚
# å¦‚éœ€Appleå•ç‹¬åˆ†æµï¼Œåˆ™éœ€è¦åŠ åœ¨[Global.list]ä¸[China.list]ä¹‹é—´ã€‚
https://cdn.jsdelivr.net/gh/sve1r/Rules-For-Quantumult-X@develop/Rules/Services/Unbreak.list, tag=Unbreak, force-policy=direct, enabled=true
https://cdn.jsdelivr.net/gh/sve1r/Rules-For-Quantumult-X@develop/Rules/Advertising/Hijacking.list, tag=Hijacking, enabled=true
https://cdn.jsdelivr.net/gh/sve1r/Rules-For-Quantumult-X@develop/Rules/Advertising/AdReject.list, tag=Advertising, enabled=true
https://raw.githubusercontent.com/sve1r/Rules-For-Quantumult-X/develop/Rules/Media/Foreign/YouTube.list, tag=YouTube, force-policy=YouTube, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/YouTubeMusic/YouTubeMusic.list, tag=YouTubeMusic, force-policy=YouTube, enabled=true
https://raw.githubusercontent.com/sve1r/Rules-For-Quantumult-X/develop/Rules/Media/Foreign/Spotify.list, tag=Spotify, force-policy=Spotify, enabled=true
https://raw.githubusercontent.com/sve1r/Rules-For-Quantumult-X/develop/Rules/Media/Foreign/Tiktok.list, tag=TikTok, force-policy=TikTok, enabled=true
https://cdn.jsdelivr.net/gh/sve1r/Rules-For-Quantumult-X@develop/Rules/Services/Google.list, tag=Google, enabled=true
https://cdn.jsdelivr.net/gh/sve1r/Rules-For-Quantumult-X@develop/Rules/Services/Microsoft.list, tag=Microsoft, force-policy=Microsoft, enabled=true
https://cdn.jsdelivr.net/gh/sve1r/Rules-For-Quantumult-X@develop/Rules/Media/DomesticMedia.list, tag=DomesticMedia, force-policy=direct, enabled=true
https://cdn.jsdelivr.net/gh/sve1r/Rules-For-Quantumult-X@develop/Rules/Media/ForeignMedia.list, tag=ForeignMedia, force-policy=OutSide, enabled=true
https://cdn.jsdelivr.net/gh/sve1r/Rules-For-Quantumult-X@develop/Rules/Region/Global.list, tag=Global, force-policy=OutSide, enabled=true
https://cdn.jsdelivr.net/gh/sve1r/Rules-For-Quantumult-X@develop/Rules/Services/Apple.list, tag=Apple, force-policy=direct, enabled=true
https://cdn.jsdelivr.net/gh/sve1r/Rules-For-Quantumult-X@develop/Rules/Region/China.list, tag=Domestic, force-policy=direct, enabled=true

[rewrite_local]

[rewrite_remote]
# ç½‘é¡µå»å¹¿å‘Š
https://cdn.jsdelivr.net/gh/sve1r/Rules-For-Quantumult-X@develop/Rewrite/AdBlock/WebAdBlock.conf, tag=å¸¸ç”¨ç½‘é¡µå»å¹¿å‘Š

# çŸ¥ä¹å»å¹¿å‘Š
https://cdn.jsdelivr.net/gh/sve1r/Rules-For-Quantumult-X@develop/Rewrite/AdBlock/Zhihu.conf, tag=çŸ¥ä¹å»å¹¿å‘Š

# å¾®åšå»å¹¿å‘Š
https://cdn.jsdelivr.net/gh/sve1r/Rules-For-Quantumult-X@develop/Rewrite/AdBlock/Weibo.conf, tag=å¾®åšå»å¹¿å‘Š

# Youtube å»å¹¿å‘Š
# https://cdn.jsdelivr.net/gh/sve1r/Rules-For-Quantumult-X@develop/Rewrite/AdBlock/Youtube.conf, tag=Youtube å»å¹¿å‘Š

# TestFlightå¤å†™
# https://cdn.jsdelivr.net/gh/sve1r/Rules-For-Quantumult-X@develop/Rewrite/Services/Apple/TestFlight/TestFlightDownload.conf,tag=TestFlight

# Rewrite å¤å†™è¿œç¨‹è®¢é˜…
https://cdn.jsdelivr.net/gh/sve1r/Rules-For-Quantumult-X@develop/Rewrite/Rewrite.conf, tag=Rewrite

[task_local]
# æµåª’ä½“æŸ¥è¯¢è„šæœ¬
event-interaction https://cdn.jsdelivr.net/gh/KOP-XIAO/QuantumultX@master/Scripts/streaming-ui-check.js, tag = æµåª’ä½“ - è§£é”æŸ¥è¯¢ï¼Œimg-url=checkmark.seal.system, enabled=true

[http_backend]

[mitm]
