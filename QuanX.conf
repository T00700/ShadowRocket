# æœ‰åœ°åŒºåˆ’åˆ†ï¼Œå¸¸ç”¨æœåŠ¡å•ç‹¬åˆ†æµã€‚
#
# ä»¥';'æˆ–'#'æˆ–'//'å¼€å¤´çš„é…ç½®æ–‡ä»¶è¡Œä¸ºæ³¨é‡Šè¡Œ
#
# ä½œè€…ï¼šwalls1717
#
# æœ€åæ›´æ–°æ—¶é—´ï¼š2023-01-22 21:49
# 
# æœ€è¿‘ä¸€æ¬¡æ›´æ–°å†…å®¹ï¼š
# æ·»åŠ udp_whitelistï¼Œä¿®å¤igæŸäº›é¡µé¢å¡é¡¿bug
#
# ================

# åŸºç¡€éƒ¨åˆ†
[general]
// > é…ç½®æ–‡ä»¶å›¾æ ‡
profile_img_url = https://img.sveir.xyz/static/favicon%40trs.png
// > ç½‘ç»œæµ‹è¯•é“¾æ¥
network_check_url = http://www.bing.com
// > æœåŠ¡å™¨æµ‹è¯•é“¾æ¥
server_check_url = http://www.gstatic.com/generate_204
// > æœåŠ¡å™¨æµ‹è¯•è¶…æ—¶æ—¶é—´ (æ¯«ç§’)
server_check_timeout = 3000
// > èŠ‚ç‚¹ GEO ä½ç½®ä¿¡æ¯æ£€æµ‹
// å¦‚æœä¸éœ€è¯†åˆ«èŠ‚ç‚¹åœ°åŒºä¸ºä¸­æ–‡å’Œæ˜¾ç¤ºå›½æ——ï¼Œè¯·å°†ä¸‹é¢è¡Œ geo_location_checker è¿›è¡Œæ³¨é‡ŠÃŸ
geo_location_checker = http://ip-api.com/json/?lang=zh-CN,https://cdn.jsdelivr.net/gh/KOP-XIAO/QuantumultX@master/Scripts/IP_API.js
// > æŒ‡å®š WiFi SSID ä¸‹çš„è¿è¡Œæ¨¡å¼
// å¦‚æœéœ€è¦æŒ‡å®š å¯¹åº” SSID çš„è¿è¡Œæ¨¡å¼,è¯·å–æ¶ˆä¸‹åˆ—æ³¨é‡Šå¹¶è‡ªå®šé…ç½®
;running_mode_trigger = filter, filter, asus-5g:all_direct, asus:all_proxy
// > èµ„æºè§£æå™¨
resource_parser_url = https://cdn.jsdelivr.net/gh/KOP-XIAO/QuantumultX@master/Scripts/resource-parser.js
// > DNS æ’é™¤åˆ—è¡¨
// ä¸ä½¿ç”¨ fakeip æ˜ å°„ï¼Œå¯ä¸€å®šç¨‹åº¦é˜²æ­¢æ£€æµ‹åˆ°ä½¿ç”¨ä»£ç†
dns_exclusion_list = *.lan, cable.auth.com, *.msftconnecttest.com, *.msftncsi.com, network-test.debian.org, detectportal.firefox.com, resolver1.opendns.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, stun.*, *.qq.com, localhost.*.qq.com, *.logon.battlenet.com.cn, *.logon.battle.net, *.blzstatic.cn, *.cmpassport.com, id6.me, open.e.189.cn, mdn.open.wo.cn, auth.wosms.cn, *.jegotrip.com.cn, *.icitymobile.mobi, *.pingan.com.cn, *.cmbchina.com, *?miwifi.com, pool.ntp.org, *.pool.ntp.org, ntp.*.com, time.*.com, ntp?.*.com, time?.*.com, time.*.gov, time.*.edu.cn, *.ntp.org.cn, time.*.apple.com, PDC._msDCS.*.*, DC._msDCS.*.*, GC._msDCS.*.*
// > æ’é™¤è·¯ç”±
// ä»¥ä¸‹ ip-cidr ä¸­çš„è·¯ç”±å°†ä¸ç»ç”± QuantumultX è¿›è¡Œå¤„ç†
excluded_routes = 192.168.0.0/16, 172.16.0.0/12, 100.64.0.0/10, 10.0.0.0/8, 239.255.255.250/32
// å¦‚ä¸æ·»åŠ æ­¤é…ç½®ï¼ŒæŸäº›èŠ‚ç‚¹åœ¨åˆ·igæ—¶ç»å¸¸å‡ºç°å›¾ç‰‡åŠ è½½ä¸å‡ºæ¥ï¼Œæˆ–è€…åŠ è½½ç¼“æ…¢é—®é¢˜
udp_whitelist = 53, 80-427, 444-65535

# åŸŸåè§£æéƒ¨åˆ†
[dns]
// å¦‚æœæ‚¨éœ€è¦ç¦ç”¨ç³»ç»Ÿ DNSï¼ˆno-system), è¯·å–æ¶ˆä¸‹è¡Œæ³¨é‡Š
no-system
// å¦‚æœæ‚¨éœ€è¦ç¦ç”¨ IPv6, è¯·å–æ¶ˆä¸‹è¡Œæ³¨é‡Š
no-ipv6
// å¦‚éœ€ä½¿ç”¨ DNS over HTTP/3ï¼Œè¯·å–æ¶ˆä¸‹è¡Œæ³¨é‡Š
;prefer-doh3

// æŒ‡å®š DNS æœåŠ¡å™¨ï¼Œå¹¶å‘å“åº”é€‰å–æœ€ä¼˜ç»“æœ
server = 119.29.29.29
server = 182.254.116.116
server = 223.5.5.5
server = 223.6.6.6
server = 119.28.28.28

# âš ï¸ æ³¨æ„ ä¸å»ºè®®åœ¨æ­¤å¯¹ å¾®ä¿¡ä»¥åŠQQç­‰å³æ—¶é€šè®¯å·¥å…·è¿›è¡Œ æŒ‡å®šåŸŸååˆ†é…DNS
# æ­¤æ“ä½œå°†å¯èƒ½å¯¼è‡´å¾®ä¿¡æ¶ˆæ¯å»¶è¿Ÿæ¨é€

// å¦‚æœéœ€è¦æŒ‡å®š DNS over HTTP æœåŠ¡ï¼Œåˆ™ä¸Šåˆ—æŒ‡å®šçš„ DNS æœåŠ¡å™¨ *å‡å°†å¤±æ•ˆ* ï¼Œåœ¨ç‰¹å®šç½‘ç»œä¸‹ç¦ç”¨è¯¥ doh
;doh-server = https://doh.pub/dns-query, https://223.5.5.5/dns-query, https://223.6.6.6/dns-query
doh-server = https://doh.pub/dns-query, https://dns.alidns.com/dns-query, https://cloudflare-dns.com/dns-query

# åˆ†æµç­–ç•¥ç»„
[policy]
static = ğŸŒOutSide, ğŸ‡¸ğŸ‡¬SG, ğŸ‡­ğŸ‡°HK, ğŸ‡¯ğŸ‡µJP, ğŸ‡¨ğŸ‡³TW, ğŸ‡ºğŸ‡¸US, ğŸ‡¹ğŸ‡·TR, ğŸ‡µğŸ‡­PH, ğŸ‡°ğŸ‡·KR, ğŸ‡®ğŸ‡³IN, ğŸš€Proxy, ğŸŒOther, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Airport.png
static = Final, ğŸŒOutSide, ğŸŸ¢Direct, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Final.png
// åˆ†æµ
static = YouTube, ğŸŒOutSide, ğŸ‡­ğŸ‡°HK, ğŸ‡¸ğŸ‡¬SG, img-url= https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/YouTube.png
static = Spotify, ğŸŸ¢Direct, ğŸ‡¸ğŸ‡¬SG, ğŸ‡­ğŸ‡°HK, ğŸ‡¯ğŸ‡µJP, ğŸ‡ºğŸ‡¸US, img-url= https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Spotify.png
static = TikTok, ğŸ‡¯ğŸ‡µJP, ğŸ‡¨ğŸ‡³TW, ğŸ‡°ğŸ‡·KR, ğŸ‡ºğŸ‡¸US, img-url= https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/TikTok.png
static = Apple, ğŸŸ¢Direct, ğŸŒOutSide, img-url= https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Apple.png
static = Google, ğŸŒOutSide, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Google_Search.png
static = Microsoft, ğŸŸ¢Direct, ğŸŒOutSide, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Microsoft.png
static = ğŸŸ¢Direct, direct, img-url= https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Direct.png
static = ğŸš€Proxy, proxy, img-url= https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Proxy.png
// æŒ‰åœ°åŒºåˆ†ç±»
url-latency-benchmark = ğŸ‡¸ğŸ‡¬SG, check-interval=3600, tolerance=100, server-tag-regex=æ–°åŠ å¡|Singapore|SG|sg, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Singapore.png
url-latency-benchmark = ğŸ‡­ğŸ‡°HK, check-interval=3600, tolerance=100, server-tag-regex=é¦™æ¸¯|Hong Kong|HK|hk, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Hong_Kong.png
url-latency-benchmark = ğŸ‡¯ğŸ‡µJP, check-interval=3600, tolerance=100, server-tag-regex=æ—¥æœ¬|Japan|JP|jp, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Japan.png
url-latency-benchmark = ğŸ‡¨ğŸ‡³TW, check-interval=3600, tolerance=100, server-tag-regex=å°æ¹¾|Taiwan|TW|tw|å°åŒ—, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Taiwan.png
url-latency-benchmark = ğŸ‡ºğŸ‡¸US, check-interval=3600, tolerance=100, server-tag-regex=ç¾å›½|United States|US|us, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/United_States.png
url-latency-benchmark = ğŸ‡¹ğŸ‡·TR, check-interval=3600, tolerance=100, server-tag-regex=åœŸè€³å…¶|Turkey|TR|TR, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Turkey.png
url-latency-benchmark = ğŸ‡µğŸ‡­PH, check-interval=3600, tolerance=100, server-tag-regex=è²å¾‹å®¾|Philippines|PH|ph, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Philippines.png
url-latency-benchmark = ğŸ‡°ğŸ‡·KR, check-interval=3600, tolerance=100, server-tag-regex=éŸ©å›½|Korea|KR|kr, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Korea.png
url-latency-benchmark = ğŸ‡®ğŸ‡³IN, check-interval=3600, tolerance=100, server-tag-regex=å°åº¦|India|IN|in, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/India.png
static=ğŸŒOther, server-tag-regex=^((?!é¦™æ¸¯|HK|HKG|å°æ¹¾|TW|TWN|å°åŒ—|æ—¥æœ¬|JP|JPN|ç¾å›½|US|USA|æ–°åŠ å¡|SG|SGP|è²å¾‹å®¾|PH|åœŸè€³å…¶|TR|å°åº¦|IN|éŸ©å›½|KR).)*$, img-url=https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Global.png


[server_local]

[server_remote]


[filter_local]
#æœ¬åœ°åˆ†æµè§„åˆ™(å¯¹äºå®Œå…¨ç›¸åŒçš„æŸæ¡è§„åˆ™ï¼Œæœ¬åœ°çš„å°†ä¼˜å…ˆç”Ÿæ•ˆ)
ip-cidr, 10.0.0.0/8, direct
ip-cidr, 127.0.0.0/8, direct
ip-cidr, 172.16.0.0/12, direct
ip-cidr, 192.168.0.0/16, direct
ip-cidr, 224.0.0.0/24, direct
geoip, cn, direct
final, Final

[filter_remote]
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/Direct/Direct.list, tag=Direct, force-policy=direct, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/AdvertisingLite/AdvertisingLite.list, tag=AdvertisingLite, force-policy=reject, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/YouTube/YouTube.list, tag=YouTube, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/YouTubeMusic/YouTubeMusic.list, tag=YouTubeMusic, force-policy=YouTube, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/Spotify/Spotify.list, tag=Spotify, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/TikTok/TikTok.list, tag=TikTok, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/Google/Google.list, tag=Google, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/Microsoft/Microsoft.list, tag=Microsoft, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/GlobalMedia/GlobalMedia.list, tag=GlobalMedia, force-policy=ğŸŒOutSide, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/Global/Global.list, tag=Global, force-policy=ğŸŒOutSide, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/Apple/Apple.list, tag=Apple, enabled=true
https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/QuantumultX/China/China.list, tag=China, force-policy=direct, enabled=true

[rewrite_local]

[rewrite_remote]
# TikTokè§£é”ï¼Œé»˜è®¤å…³é—­
https://cdn.jsdelivr.net/gh/Semporia/TikTok-Unlock@master/Quantumult-X/TikTok-US.conf, tag=TikTok, update-interval=86400, opt-parser=false, enabled=false

[task_local]
# æµåª’ä½“æŸ¥è¯¢è„šæœ¬
event-interaction https://cdn.jsdelivr.net/gh/KOP-XIAO/QuantumultX@master/Scripts/streaming-ui-check.js, tag=æµåª’ä½“ - è§£é”æŸ¥è¯¢ï¼Œimg-url=checkmark.seal.system, enabled=true

[http_backend]

[mitm]
